<Window x:Class="library_management_system.ManageUsers"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        mc:Ignorable="d"
        Title="Manage Users" 
        Height="1080" 
        Width="1920" 
           WindowState="Maximized"
        WindowStartupLocation="CenterScreen">

    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="Styles.xaml"/>
            </ResourceDictionary.MergedDictionaries>

            <Style x:Key="DataGridStyle" TargetType="DataGrid">
                <Setter Property="Background" Value="{StaticResource PanelBackgroundBrush}"/>
                <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
                <Setter Property="BorderBrush" Value="{StaticResource LightSeaGreenBrush}"/>
                <Setter Property="BorderThickness" Value="1"/>
                <Setter Property="RowBackground" Value="{StaticResource PanelBackgroundBrush}"/>
                <Setter Property="AlternatingRowBackground" Value="{StaticResource DropdownBrush}"/>
                <Setter Property="GridLinesVisibility" Value="None"/>
                <Setter Property="HeadersVisibility" Value="Column"/>
                <Setter Property="ScrollViewer.CanContentScroll" Value="true"/>
                <Setter Property="ScrollViewer.PanningMode" Value="Both"/>
                <Setter Property="Stylus.IsFlicksEnabled" Value="False"/>
                <Setter Property="SelectionMode" Value="Single"/>
                <Setter Property="SelectionUnit" Value="FullRow"/>
                <Setter Property="AutoGenerateColumns" Value="False"/>
                <Setter Property="CanUserAddRows" Value="False"/>
                <Setter Property="CanUserDeleteRows" Value="False"/>
                <Setter Property="CanUserReorderColumns" Value="True"/>
                <Setter Property="CanUserResizeColumns" Value="True"/>
                <Setter Property="CanUserResizeRows" Value="False"/>
                <Setter Property="CanUserSortColumns" Value="True"/>
                <Setter Property="ColumnHeaderHeight" Value="30"/>
                <Setter Property="RowHeight" Value="30"/>

                <Style.Resources>
                    <Style TargetType="DataGridColumnHeader">
                        <Setter Property="Background" Value="{StaticResource LightSeaGreenBrush}"/>
                        <Setter Property="Foreground" Value="White"/>
                        <Setter Property="FontWeight" Value="Bold"/>
                        <Setter Property="Padding" Value="5"/>
                        <Setter Property="HorizontalContentAlignment" Value="Center"/>
                    </Style>

                    <Style TargetType="DataGridCell">
                        <Setter Property="BorderThickness" Value="0"/>
                        <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
                        <Setter Property="Padding" Value="5"/>
                        <Style.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter Property="Background" Value="{StaticResource LightSeaGreenBrush}"/>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </Style.Resources>
            </Style>
        </ResourceDictionary>
    </Window.Resources>

    <Grid>
        <!-- Navigation Bar -->
        <Border Background="#1E1E1E" Height="50" VerticalAlignment="Top">
            <Grid>
                <TextBlock Text="Library Management System" 
                           Foreground="White" 
                           FontSize="18" 
                           FontWeight="Bold"
                           VerticalAlignment="Center" 
                           Margin="10,0,0,0" 
                           HorizontalAlignment="Left"/>

                <StackPanel Orientation="Horizontal" 
                            HorizontalAlignment="Right" 
                            VerticalAlignment="Center" 
                            Margin="0,0,10,0">
                    <Button Content="Dashboard" Click="DashboardButton_Click" Style="{StaticResource NavButtonStyle}"/>
                    <Button Content="Manage Users" Click="ManageUsersButton_Click" Style="{StaticResource NavButtonStyle}"/>
                    <Button Content="Borrowing Policies" Click="BorrowingPoliciesButton_Click" Style="{StaticResource NavButtonStyle}"/>
                    <Button Content="Book Inventory" Click="BookInventoryButton_Click" Style="{StaticResource NavButtonStyle}"/>
                    <Button Content="Reports" Click="ReportsButton_Click" Style="{StaticResource NavButtonStyle}"/>
                    <Button Content="Account" Click="AccountButton_Click" Style="{StaticResource NavButtonStyle}"/>


                </StackPanel>
            </Grid>
        </Border>

        <!-- Main Content -->
        <Grid Margin="20,60,20,20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="10"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Add/Edit User Section -->
            <Border Style="{StaticResource PanelStyle}" Grid.Column="0" Margin="5,5,5,0">
                <StackPanel>
                    <TextBlock Text="Manage User" Style="{StaticResource HeaderTextStyle}"/>

                    <TextBlock Text="Name:" Foreground="White" Margin="0,5"/>
                    <TextBox x:Name="txtName" Style="{StaticResource TextBoxStyle}" Width="236" Height="40"/>

                    <TextBlock Text="Email:" Foreground="White" Margin="0,5"/>
                    <TextBox x:Name="txtEmail" Style="{StaticResource TextBoxStyle}" Width="235" Height="40"/>
                    <TextBlock x:Name="Password" Text="Password" Foreground="White"/>
                    <TextBox x:Name="txtAddress" Style="{StaticResource TextBoxStyle}" Width="235" Height="40"/>

                    <TextBlock Text="Role:" Foreground="White" Margin="0,5"/>
                    <StackPanel>
                        <CheckBox x:Name="AdminCheckBox" Content="Admin" Margin="0,2" Foreground="White"/>
                        <CheckBox x:Name="LibrarianCheckBox" Content="Librarian" Margin="0,2" Foreground="White"/>
                        <CheckBox x:Name="MemberCheckBox" Content="Member" Margin="0,2" Foreground="White" IsChecked="True"/>
                    </StackPanel>

                    <TextBlock Text="Status:" Foreground="White" Margin="0,5"/>
                    <StackPanel>
                        <CheckBox x:Name="ActiveCheckBox" Content="Active" Margin="0,2" Foreground="White" IsChecked="True"/>
                        <CheckBox x:Name="InactiveCheckBox" Content="Inactive" Margin="0,2" Foreground="White"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,15,0,0">
                        <Button Content="Clear" 
                                Click="ClearInputFields_Click"
                                Style="{StaticResource ActionButtonStyle}" Width="76"/>
                        <Button x:Name="btnSaveUser" 
                                Content="Add User" 
                                Click="btnSaveUser_Click"
                                Style="{StaticResource ActionButtonStyle}"
                                Margin="10,0,0,0" Width="79" Height="25"/>
                    </StackPanel>
                </StackPanel>
            </Border>

            <!-- User List Section -->
            <Border Style="{StaticResource PanelStyle}" Grid.Column="2" Margin="5,5,5,0">
                <StackPanel>
                    <TextBlock Text="User List" Style="{StaticResource HeaderTextStyle}"/>
                    <TextBox x:Name="txtSearch" Style="{StaticResource TextBoxStyle}" ToolTip="Search users..."
                             TextChanged="txtSearch_TextChanged" Margin="5,5,70,5" Height="39" Width="259"/>

                    <DataGrid x:Name="dgUsers" Style="{StaticResource DataGridStyle}" 
                              AutoGenerateColumns="False" Height="277"
                              SelectionChanged="dgUsers_SelectionChanged">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Name" Binding="{Binding Name}" Width="*">
                                <DataGridTextColumn.ElementStyle>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="HorizontalAlignment" Value="Center"/>
                                        <Setter Property="VerticalAlignment" Value="Center"/>
                                        <Setter Property="TextAlignment" Value="Center"/>
                                    </Style>
                                </DataGridTextColumn.ElementStyle>
                                <DataGridTextColumn.EditingElementStyle>
                                    <Style TargetType="TextBox">
                                        <Setter Property="HorizontalAlignment" Value="Center"/>
                                        <Setter Property="VerticalAlignment" Value="Center"/>
                                        <Setter Property="TextAlignment" Value="Center"/>
                                    </Style>
                                </DataGridTextColumn.EditingElementStyle>
                            </DataGridTextColumn>

                            <DataGridTextColumn Header="Email" Binding="{Binding Email}" Width="*">
                                <DataGridTextColumn.ElementStyle>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="HorizontalAlignment" Value="Center"/>
                                        <Setter Property="VerticalAlignment" Value="Center"/>
                                        <Setter Property="TextAlignment" Value="Center"/>
                                    </Style>
                                </DataGridTextColumn.ElementStyle>
                                <DataGridTextColumn.EditingElementStyle>
                                    <Style TargetType="TextBox">
                                        <Setter Property="HorizontalAlignment" Value="Center"/>
                                        <Setter Property="VerticalAlignment" Value="Center"/>
                                        <Setter Property="TextAlignment" Value="Center"/>
                                    </Style>
                                </DataGridTextColumn.EditingElementStyle>
                            </DataGridTextColumn>

                            <DataGridTextColumn Header="Role" Binding="{Binding Role}" Width="*">
                                <DataGridTextColumn.ElementStyle>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="HorizontalAlignment" Value="Center"/>
                                        <Setter Property="VerticalAlignment" Value="Center"/>
                                        <Setter Property="TextAlignment" Value="Center"/>
                                    </Style>
                                </DataGridTextColumn.ElementStyle>
                                <DataGridTextColumn.EditingElementStyle>
                                    <Style TargetType="TextBox">
                                        <Setter Property="HorizontalAlignment" Value="Center"/>
                                        <Setter Property="VerticalAlignment" Value="Center"/>
                                        <Setter Property="TextAlignment" Value="Center"/>
                                    </Style>
                                </DataGridTextColumn.EditingElementStyle>
                            </DataGridTextColumn>

                            <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="*">
                                <DataGridTextColumn.ElementStyle>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="HorizontalAlignment" Value="Center"/>
                                        <Setter Property="VerticalAlignment" Value="Center"/>
                                        <Setter Property="TextAlignment" Value="Center"/>
                                    </Style>
                                </DataGridTextColumn.ElementStyle>
                                <DataGridTextColumn.EditingElementStyle>
                                    <Style TargetType="TextBox">
                                        <Setter Property="HorizontalAlignment" Value="Center"/>
                                        <Setter Property="VerticalAlignment" Value="Center"/>
                                        <Setter Property="TextAlignment" Value="Center"/>
                                    </Style>
                                </DataGridTextColumn.EditingElementStyle>
                            </DataGridTextColumn>
                        </DataGrid.Columns>
                    </DataGrid>
                </StackPanel>
            </Border>
        </Grid>
    </Grid>
</Window> 