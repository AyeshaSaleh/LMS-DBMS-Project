<Window x:Class="Library_Management_System.FineCollectionPage"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Library Fine Management" 
        WindowStyle="None"
        ResizeMode="NoResize"
        WindowState="Maximized"
        Background="#FF121212">

    <Window.Resources>
        <Style TargetType="Button">
            <Setter Property="Margin" Value="10,5"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="10,5"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect Color="#20B2AA" BlurRadius="5" ShadowDepth="0"/>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Foreground" Value="#20B2AA"/>
                    <Setter Property="Effect">
                        <Setter.Value>
                            <DropShadowEffect Color="#20B2AA" BlurRadius="10" ShadowDepth="0"/>
                        </Setter.Value>
                    </Setter>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style TargetType="TextBox">
            <Setter Property="Margin" Value="0 0 0 10"/>
            <Setter Property="Padding" Value="5"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Background" Value="#FF2D2D2D"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="#FF3D3D3D"/>
        </Style>

        <Style TargetType="RadioButton">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Margin" Value="0,0,10,0"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
    </Window.Resources>

    <Viewbox Stretch="Fill">
        <Grid Width="1920" Height="1080">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Navigation Bar -->
            <StackPanel Grid.Row="0" Background="#FF1E1E1E" Margin="0,0,0,10">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Text="Library Management System" Grid.Column="0"
                               FontSize="20" FontWeight="Bold" Margin="10,5" Foreground="White"/>

                    <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right">
                        <Button x:Name="DashboardButton" Content="Dashboard" Click="DashboardButton_Click" Background="LightSeaGreen"/>
                        <Button x:Name="BookStatusButton" Content="Book Status" Click="BookStatusButton_Click" Background="LightSeaGreen"/>
                        <Button x:Name="IssueReserveButton" Content="Issue/Reserve" Click="IssueReserveButton_Click" Background="LightSeaGreen"/>
                        <Button x:Name="MemberRecordsButton" Content="Member Records" Click="MemberRecordsButton_Click" Background="LightSeaGreen"/>
                        <Button x:Name="FineCollectionButton" Content="Fine Collection" Background="LightSeaGreen" Click="FineCollectionButton_Click"/>
                        <Button x:Name="AccountButton" Content="Account" Click="AccountButton_Click" Background="LightSeaGreen"/>
                    </StackPanel>
                </Grid>
            </StackPanel>

            <!-- Main Content -->
            <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                <Grid Margin="40">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="2*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Input Form -->
                        <Border Grid.Column="0" Background="#FF1E1E1E" Margin="0,0,20,0" Padding="30" CornerRadius="5">
                            <StackPanel>
                                <!-- User Details -->
                                <TextBlock Text="👤 User Details" FontSize="18" FontWeight="Bold" Margin="0,0,0,15" Foreground="White"/>

                                <Label Content="User ID:" Foreground="White"/>
                                <TextBox x:Name="txtUserId"/>

                                <Label Content="First Name:" Foreground="White"/>
                                <TextBox x:Name="txtFirstName"/>

                                <Label Content="Last Name:" Foreground="White"/>
                                <TextBox x:Name="txtLastName"/>

                                <!-- Fine Details -->
                                <TextBlock Text="💰 Fine Details" FontSize="18" FontWeight="Bold" Margin="0,20,0,15" Foreground="White"/>

                                <Label Content="Fine ID:" Foreground="White"/>
                                <TextBox x:Name="txtFineId"/>

                                <Label Content="Amount (PKR):" Foreground="White"/>
                                <TextBox x:Name="txtAmount"/>

                                <Button x:Name="btnAddFine" Content="➕ Add Fine" Click="BtnAddFine_Click" 
                                        Margin="0,20,0,0" Background="#20B2AA"/>

                                <!-- Filter Controls -->
                                <TextBlock Text="🔍 Filter Fines" FontSize="18" FontWeight="Bold" Margin="0,20,0,15" Foreground="White"/>

                                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                                    <RadioButton x:Name="rbAllFines" Content="All Fines" GroupName="Filter" IsChecked="True"/>
                                    <RadioButton x:Name="rbPaidOnly" Content="Paid Only" GroupName="Filter"/>
                                </StackPanel>

                                <Button x:Name="btnApplyFilter" Content="Apply Filter" Click="BtnApplyFilter_Click" 
                                        Background="#20B2AA" Margin="0,10,0,0"/>
                            </StackPanel>
                        </Border>

                        <!-- DataGrid -->
                        <Border Grid.Column="1" Background="White" Padding="20" CornerRadius="5">
                            <DataGrid x:Name="dgFines" AutoGenerateColumns="False" IsReadOnly="True"
                                      Background="White" Foreground="Black" BorderBrush="#FF3D3D3D"
                                      HeadersVisibility="Column" SelectionMode="Single">
                                <DataGrid.ColumnHeaderStyle>
                                    <Style TargetType="DataGridColumnHeader">
                                        <Setter Property="Background" Value="#0A0B1E"/>
                                        <Setter Property="Foreground" Value="White"/>
                                        <Setter Property="FontWeight" Value="Bold"/>
                                        <Setter Property="Padding" Value="10,5"/>
                                    </Style>
                                </DataGrid.ColumnHeaderStyle>
                                <DataGrid.CellStyle>
                                    <Style TargetType="DataGridCell">
                                        <Setter Property="Foreground" Value="Black"/>
                                        <Setter Property="Background" Value="White"/>
                                        <Setter Property="BorderBrush" Value="LightGray"/>
                                    </Style>
                                </DataGrid.CellStyle>
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="User ID" Binding="{Binding UserId}" Width="80"/>
                                    <DataGridTextColumn Header="Fine ID" Binding="{Binding FineId}" Width="80"/>
                                    <DataGridTextColumn Header="Name" Binding="{Binding FullName}" Width="*"/>
                                    <DataGridTextColumn Header="Amount (PKR)" Binding="{Binding Amount}" Width="120"/>
                                    <DataGridTextColumn Header="Date" Binding="{Binding Date, StringFormat=d}" Width="150"/>
                                    <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="120">
                                        <DataGridTextColumn.ElementStyle>
                                            <Style TargetType="TextBlock">
                                                <Setter Property="HorizontalAlignment" Value="Center"/>
                                                <Setter Property="FontWeight" Value="SemiBold"/>
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding Status}" Value="Paid">
                                                        <Setter Property="Foreground" Value="Green"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{Binding Status}" Value="Overdue">
                                                        <Setter Property="Foreground" Value="Red"/>
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </DataGridTextColumn.ElementStyle>
                                    </DataGridTextColumn>
                                </DataGrid.Columns>
                            </DataGrid>
                        </Border>
                    </Grid>
                </Grid>
            </ScrollViewer>

            <!-- Footer -->
            <Grid Grid.Row="2" Background="#1A1B3E" Height="30"/>
        </Grid>
    </Viewbox>
</Window> 